# =============================================================================
# MIASMA BACKEND ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit the actual .env file to version control

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=Miasma
APP_VERSION=0.1.0
DEBUG=true
ENVIRONMENT=development

# API Configuration
API_V1_STR=/api/v1
SECRET_KEY=your-super-secret-key-change-this-in-production-minimum-32-characters
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Server Configuration
HOST=0.0.0.0
PORT=8000
RELOAD=true

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database
POSTGRES_SERVER=localhost
POSTGRES_PORT=5432
POSTGRES_USER=miasma_user
POSTGRES_PASSWORD=your-database-password
POSTGRES_DB=miasma_db

# Database URL (automatically constructed from above, or override)
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_SERVER}:${POSTGRES_PORT}/${POSTGRES_DB}

# Database Pool Settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# Cache Settings
CACHE_TTL_SECONDS=300
SESSION_TTL_SECONDS=86400

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# CORS Settings
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:5173","http://127.0.0.1:3000","http://127.0.0.1:5173"]

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# Password Requirements
MIN_PASSWORD_LENGTH=8
REQUIRE_UPPERCASE=true
REQUIRE_LOWERCASE=true
REQUIRE_NUMBERS=true
REQUIRE_SPECIAL_CHARS=true

# =============================================================================
# WEB SCRAPING CONFIGURATION
# =============================================================================
# Selenium Settings
SELENIUM_HUB_URL=http://selenium:4444/wd/hub
CHROME_OPTIONS=--headless,--no-sandbox,--disable-dev-shm-usage,--disable-gpu
SELENIUM_TIMEOUT=30
PAGE_LOAD_TIMEOUT=30

# Scraping Behavior
REQUEST_DELAY_MIN=1
REQUEST_DELAY_MAX=3
MAX_RETRIES=3
CONCURRENT_SCRAPERS=2

# User Agent Settings
USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36

# =============================================================================
# DATA BROKER SITES CONFIGURATION
# =============================================================================
# Enable/Disable specific scrapers
ENABLE_WHITEPAGES=true
ENABLE_SPOKEO=true
ENABLE_TRUEPEOPLESEARCH=true
ENABLE_BEENVERIFIED=true
ENABLE_INTELIUS=false

# Scraper-specific settings (add API keys if available)
WHITEPAGES_API_KEY=your-whitepages-api-key-if-available
SPOKEO_API_KEY=your-spokeo-api-key-if-available

# =============================================================================
# DATA GENERATION SETTINGS
# =============================================================================
# Fake Data Generation
FAKER_LOCALE=en_US
GENERATE_REALISTIC_ADDRESSES=true
USE_REAL_ZIPCODES=true
AVOID_OBVIOUS_FAKE_NAMES=true

# Campaign Settings
MAX_CAMPAIGNS_PER_USER=10
MAX_SUBMISSIONS_PER_CAMPAIGN=100
CAMPAIGN_EXECUTION_DELAY_HOURS=24

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_FILE=logs/miasma.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# Enable specific loggers
LOG_DATABASE=false
LOG_SCRAPERS=true
LOG_CAMPAIGNS=true
LOG_SECURITY=true

# =============================================================================
# AWS CONFIGURATION (for production)
# =============================================================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# S3 Configuration (for file storage)
S3_BUCKET=miasma-data-bucket
S3_REGION=us-east-1

# SES Configuration (for email notifications)
SES_SENDER_EMAIL=noreply@yourdomain.com
SES_REGION=us-east-1

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================
# Enable monitoring
ENABLE_METRICS=true
METRICS_PORT=8001

# External monitoring services
SENTRY_DSN=your-sentry-dsn-for-error-tracking

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Only used in development
DEV_SEED_DATA=true
DEV_MOCK_SCRAPERS=false
DEV_BYPASS_RATE_LIMITS=true

# Testing
TEST_DATABASE_URL=postgresql+asyncpg://test_user:test_pass@localhost:5432/miasma_test
PYTEST_TIMEOUT=30